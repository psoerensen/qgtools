% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_constructor.R
\name{makeDatalist}
\alias{makeDatalist}
\title{Create a data source specification object}
\usage{
makeDatalist(
  source,
  format = c("DATAFRAME", "CSV", "DMU", "PLINK", "PARQUET"),
  id = NULL,
  roles = NULL,
  missing = NULL,
  header = NULL,
  colnames = NULL,
  ...
)
}
\arguments{
\item{source}{Data source (data.frame, file path, or named list)}

\item{format}{One of "DATAFRAME", "CSV", "DMU", "PLINK", "PARQUET"}

\item{id}{Optional name of individual identifier variable}

\item{roles}{Optional named list of variable roles}

\item{missing}{Optional missing-value specification}

\item{header}{Logical. Whether the data source contains column headers.
Defaults depend on format.}

\item{colnames}{Optional character vector or named list of column names.
Required if headers are not present.}

\item{...}{Format-specific options}
}
\value{
An object of class "Datalist"
}
\description{
qgtools requires that all data variables have explicit names. Column names may
be obtained either from headers in the data source or supplied directly by the
user.
}
\details{
For data formats that do not include headers (e.g. DMU-style input), column
names must be provided explicitly using the \code{colnames} argument. When
headers are present, they are used by default unless overridden.

Internally, all variables are accessed by name rather than by position. This
ensures robust model specification, avoids ambiguity, and allows the same
model specification to be applied consistently across different data formats.

Variable roles (e.g. traits, covariates, identifiers) may be specified
explicitly using the \code{roles} argument or inferred from model formulas.
Conflicting or ambiguous specifications result in an error.
}
\examples{
## In-memory data frame (column names already present)
data_df <- makeDatalist(
  source = mouse,
  format = "DATAFRAME"
)

## CSV file with header (default behavior)
data_csv <- makeDatalist(
  source = "data.csv",
  format = "CSV"
)

## CSV file without header (column names must be supplied)
data_csv_noheader <- makeDatalist(
  source   = "data.txt",
  format   = "CSV",
  header   = FALSE,
  colnames = c("id", "sex", "reps", "BW", "Gl")
)

## DMU-style input with separate integer and real files
data_dmu <- makeDatalist(
  source = list(
    integer = "data_int.txt",
    real    = "data_real.txt"
  ),
  format   = "DMU",
  colnames = list(
    integer = c("id", "dam", "sex", "reps"),
    real    = c("BW", "Gl")
  ),
  missing = list(
    integer = 0,
    real    = -999
  )
)

## PLINK phenotype and covariate input
data_plink <- makeDatalist(
  source = list(
    fam        = "data.fam",
    covariates = "covariates.txt"
  ),
  format = "PLINK",
  id     = "IID"
)

## Parquet file (disk-backed, columnar format)
data_parquet <- makeDatalist(
  source = "data.parquet",
  format = "PARQUET"
)
}
